'use strict';null==window.ofsysOptin&&(window.ofsysOptin={});null==window.ofsysOptin.util&&(window.ofsysOptin.util={});
(function(h){function v(b,d){var f=Object.prototype.toString.call(d).slice(8,-1);return void 0!==d&&null!==d&&f===b}function q(b){return isFinite(b)&&0===b%1}function p(b){return JSON.parse(JSON.stringify(b))}function n(b,d){if(d.bind)return d.bind(b);var f=[],l=function(){},e=function(){return d.apply(b,f.concat(Array.prototype.slice.call(arguments)))};l.prototype=d.prototype;e.prototype=new l;return e}h.getObjType=function(b){return Object.prototype.toString.call(b).slice(8,-1)};h.is=v;h.isNumber=
function(b){return!isNaN(parseFloat(b))&&isFinite(b)};h.isInt=q;h.convertToArray=function(b){for(var d=[],f=0;f<b.length;f++)d.push(b[f]);return d};h.clone=p;h.methodRef=n;h.isIE8OrOlder=function(){return null!=window.attachEvent&&null==window.addEventListener};h.isIE9OrOlder=function(){return h.isIE8OrOlder()||null!=document.documentMode&&(null==window.performance||10>document.documentMode)};h.parseInt=function(b){if(null==b||""===b||!isFinite(b)||0!==b%1)throw Error("Not an int : '"+b+"'");return parseInt(b,
"10")};h.getURLParameters=function(){var b=window.location.search.slice(1),d={};if(null==b||""==b)return d;b=decodeURIComponent(b).split("&");for(var f=0;f<b.length;f++){var l=b[f].split("=");d[l[0]]=l[1]}return d};h.coalesce=function(){for(var b=0;b<arguments.length;b++)if(null!=arguments[b])return arguments[b];return null};h.prefixZeros=function(b,d){d-=b.toString().length;return 0>=d?b:Array(d+1).join("0")+b.toString()};h.formatNumber=function(b,d,f){if(!q(b)){var l=null!=d?Math.pow(10,d):100;
b=Math.round(b*l)/l}l=RegExp("^(-?[0-9]+)([0-9]{3})");for(b+="";l.test(b);)b=b.replace(l,"$1 $2");if(f)for(-1==b.indexOf(".")&&(b+="."),f=b.afterLast(".").length;f<d;f++)b+="0";return b};h.formatFloatNumber=function(b,d){null==d&&(d=2);var f=null!=d?Math.pow(10,d):100;b=Math.round(b*f)/f;f=RegExp("(-?[0-9]+)([0-9]{3})");for(b+="";f.test(b);)b=b.replace(f,"$1 $2");-1==b.indexOf(".")&&(b+=".0");f=b.afterLast(".");if(f.length<d)for(var l=0;l<d-f.length;l++)b+="0";return b};h.assert=function(b,d){if(!b){if(null==
d)throw Error("assertion failure");throw Error(d);}};h.net={};h.net.ajax=function(b){var d=new XMLHttpRequest;d.onreadystatechange=function(){4==d.readyState&&(200==d.status?b.success&&b.success(d.responseText,d):b.error&&b.error(d.status,d.responseText,d))};var f=b.method||"POST";d.open(f,b.url,!0);null!=b.timeout&&(d.timeout=b.timeout);var l=null;if(null!=b.data)if(l="",v("String",b.data))d.setRequestHeader("Content-type","text/plain"),l=b.data;else if(v("Object",b.data)){"POST"==f&&d.setRequestHeader("Content-type",
"application/x-www-form-urlencoded");for(var e in b.data)0<l.length&&(l+="&"),l+=encodeURIComponent(e)+"="+encodeURIComponent(b.data[e])}else throw Error("data type");d.send(l)};h.net.corsAjax=function(b){try{var d=new XMLHttpRequest;if(null==window.XDomainRequest||"withCredentials"in d)d.open("POST",b.url,!0),d.setRequestHeader("Content-type","text/plain"),d.onreadystatechange=function(){4==d.readyState&&(200==d.status?b.success(d.responseText):b.error(d.status,d.responseText))},d.send(b.data);else{var f=
new XDomainRequest;f.open("POST",b.url);f.ontimeout=function(){b.error(408,"timeout")};f.onerror=function(){b.error(500,"error")};f.onload=function(){b.success(f.responseText)};setTimeout(function(){f.send(b.data)},0)}}catch(l){b.error(500,"exception "+l),window.console&&console.error(l)}};var a=h.string={};a.trim=function(b){return b.replace(/^\s+|\s+$/g,"")};a.formatTemplate=function(b,d){return b.replace(/([{]\w+[}])/g,function(f,l,e,g){return null!=d[f]?d[f]:f})};a=h.datetime={};a.buildDateWithStrictValidation=
function(b,d,f,l,e,g){var k=new Date(b,d,f,l,e,g,0);return k.getFullYear()!=b||k.getMonth()!=d||k.getDate()!=f||k.getHours()!=l||k.getMinutes()!=e||k.getSeconds()!=g?null:k};a.parseOFSYSDateTime=function(b){var d=/^(\d+)[.-](\d+)[.-](\d+) (\d+):(\d+):(\d+)$/gm.exec(b),f=null;if(null!=d&&7==d.length){b=h.parseInt(d[1]);f=h.parseInt(d[2])-1;var l=h.parseInt(d[3]),e=h.parseInt(d[4]),g=h.parseInt(d[5]);d=h.parseInt(d[6]);f=h.datetime.buildDateWithStrictValidation(b,f,l,e,g,d)}else d=/^(\d+)[.-](\d+)[.-](\d+) (\d+):(\d+)$/gm.exec(b),
null!=d&&6==d.length?(b=h.parseInt(d[1]),f=h.parseInt(d[2])-1,l=h.parseInt(d[3]),e=h.parseInt(d[4]),g=h.parseInt(d[5]),f=h.datetime.buildDateWithStrictValidation(b,f,l,e,g,0)):(d=/^(\d+)[.-](\d+)[.-](\d+)$/gm.exec(b),null!=d&&4==d.length&&(b=h.parseInt(d[1]),f=h.parseInt(d[2])-1,l=h.parseInt(d[3]),f=h.datetime.buildDateWithStrictValidation(b,f,l,0,0,0)));return f};a.parseOFSYSTime=function(b){var d=/^(\d+):(\d+):(\d+)$/gm.exec(b);if(null!=d&&4==d.length){b=h.parseInt(d[1]);var f=h.parseInt(d[2]);
d=h.parseInt(d[3]);if(null!=h.datetime.buildDateWithStrictValidation(2001,1,1,b,f,d))return{HH:b,mm:f,ss:d}}else if(d=/^(\d+):(\d+)$/gm.exec(b),null!=d&&3==d.length&&(b=h.parseInt(d[1]),f=h.parseInt(d[2]),null!=h.datetime.buildDateWithStrictValidation(2001,1,1,b,f,0)))return{HH:b,mm:f,ss:0};return null};var c={DeclareClassWithVariables:function(b){var d=c.DeclareClass(!0,b.methods,b.name,b.variables);if(null!=b.static){d.__STATIC__=b.static;for(var f in b.static)d[f]=b.static[f]}return d},DeclareClass:function(b,
d,f,l){var e=function(){this.ClassName=f;if(null!=l){for(var m in l)this[m]=null!=l[m]&&(v("Object",l[m])||v("Array",l[m]))?p(l[m]):l[m];b&&null!=Object.seal&&Object.seal(this);null!=this.init&&this.init.apply(this,arguments)}};e.prototype=d;c.AddCommonClassMethods(e);e.Variables=l;e.ClassName=f;for(var g in d){var k=d[g];null!=k&&(e[g]=k)}return e},AddCommonClassMethods:function(b){b.prototype.CallMethod=function(d){return n(this,d)};b.Extend=function(d){var f=c.ExtendClass(!0,this,d.methods,d.name,
d.variables);if(null!=b.__STATIC__)for(var l in b.__STATIC__)f[l]=b.__STATIC__[l];if(null!=d.static)for(l in d.static)f[l]=d.static[l];return f}},ExtendClass:function(b,d,f,l,e){if(null!=Object.create){var g={},k;for(k in f){var m=f[k];if(null!=m)g[k]={value:f[k],enumerable:!0,configurable:!0,writable:!0};else{var r=Object.getOwnPropertyDescriptor(f,k).get;m=Object.getOwnPropertyDescriptor(f,k).set;null!=r&&null!=m?g[k]={configurable:!1,get:r,set:m}:null!=r?g[k]={configurable:!1,get:r}:null!=m&&(g[k]=
{configurable:!1,set:m})}}if(null!=d.Variables){f={};for(k in d.Variables)f[k]=d.Variables[k];if(null!=e)for(k in e)f[k]=e[k];e=f}r=function(){this.ClassName=l;if(null!=e){for(var x in e)this[x]=null!=e[x]&&(v("Object",e[x])||v("Array",e[x]))?p(e[x]):e[x];b&&null!=Object.seal&&Object.seal(this);null!=this.init&&this.init.apply(this,arguments)}};r.prototype=Object.create(d.prototype,g);r.BasePrototype=d.prototype;r.BaseClass=d;r.Variables=e}else{r=function(){this.ClassName=l;if(null!=e){for(var x in e)this[x]=
null!=e[x]&&(v("Object",e[x])||v("Array",e[x]))?p(e[x]):e[x];b&&null!=Object.seal&&Object.seal(this);null!=this.init&&this.init.apply(this,arguments)}};m={};for(k in d.prototype)m[k]=d.prototype[k];for(k in f)m[k]=f[k];r.prototype=m;r.BasePrototype=d.prototype;r.BaseClass=d}r.ClassName=l;c.AddCommonClassMethods(r);for(var u in g)m=g[u],null!=m.value&&(m=m.value),r[u]=m;return r}};h.classes=c})(window.ofsysOptin.util);null==window.ofsysOptin&&(window.ofsysOptin={});
null==window.ofsysOptin.dom&&(window.ofsysOptin.dom={});
(function(h){function v(a){this.elem=a}function q(a){this.elems=a}var p=window.ofsysOptin;h.Elem=v;v.prototype={findAll:function(a){return h._selectAll(a,this.elem)},find1:function(a){return h._select1(a,this.elem)},nextOrNull:function(){if(this.elem.nextElementSibling)var a=this.elem.nextElementSibling;else for(a=this.elem.nextSibling;null!=a&&1!==a.nodeType;)a=a.nextSibling;return null==a?null:new h.Elem(a)},next:function(){var a=this.nextOrNull();if(null==a)throw Error("There is no next element");
return a},prevOrNull:function(){if(this.elem.previousElementSibling)var a=this.elem.previousElementSibling;else for(a=this.elem.previousSibling;null!=a&&1!==a.nodeType;)a=a.previousSibling;return null==a?null:new h.Elem(a)},prev:function(){var a=this.prevOrNull();if(null==a)throw Error("There is no previous element");return a},children:function(){for(var a=this.elem.children,c=[],b=0;b<a.length;b++)1==a[b].nodeType&&c.push(a[b]);return new h.OfsysDomElemArray(c)},parent:function(){return new h.Elem(this.elem.parentNode)},
firstParentMatching:function(a){for(var c=this.elem.parentNode;null!=c;){if(h.wrap(c).is(a))return h.wrap(c);c=c.parentNode}return null},addClass:function(a){this.hasClass(a)||(this.elem.className+=" "+a);return this},removeClass:function(a){for(var c=this.elem.className.split(" "),b=[],d=0;d<c.length;d++)c[d]!=a&&b.push(c[d]);this.elem.className=b.join(" ");return this},classes:function(){return this.elem.className.split(" ")},hasClass:function(a){for(var c=this.elem.className.split(" "),b=0;b<c.length;b++)if(c[b]==
a)return!0;return!1},getAttr:function(a){return this.elem.getAttribute(a)},setAttr:function(a,c){this.elem.setAttribute(a,c);return this},removeAttr:function(a){this.elem.removeAttribute(a);return this},getStyle:function(a){var c=this._getComputedStyle(a);if(null==c||""==c)c=this.elem.style.getPropertyValue?this.elem.style.getPropertyValue(a):this.elem.style[h.util.cssToCamelCase(a)];return""===c?null:c},_getComputedStyle:function(a){if(window.getComputedStyle)return window.getComputedStyle(this.elem,
null).getPropertyValue(a);if(this.elem.currentStyle)return this.elem.currentStyle[h.util.cssToCamelCase(a)];throw Error("Unsupported");},getOwnStyle:function(a){a=this.elem.style.getPropertyValue?this.elem.style.getPropertyValue(a):this.elem.style[h.util.cssToCamelCase(a)];return""===a?null:a},setStyle:function(a,c){this.elem.style.setProperty?this.elem.style.setProperty(a,c):this.elem.style[h.util.cssToCamelCase(a)]=c;return this},setStyles:function(a){for(var c in a)this.setStyle(c,a[c]);return this},
removeStyle:function(a){if(this.elem.style.removeProperty)this.elem.style.removeProperty(a);else if(this.elem.style.removeAttribute)this.elem.style.removeAttribute(h.util.cssToCamelCase(a));else throw Error("Unsupported");return this},isChecked:function(){return this.elem.checked},setChecked:function(a){this.elem.checked=a;return this},getSelectedOption:function(){for(var a=this.getValue(),c=this.findAll("option"),b=0;b<c.length();b++)if(c.get(b).getValue()==a)return c.get(b);return null},getValue:function(){return this.elem.value},
setValue:function(a){this.elem.value=a;return this},append:function(a){this.elem.appendChild(a.elem);return this},prepend:function(a){this.elem.insertBefore(a.elem,this.elem.firstChild);return this},appendTo:function(a){a.elem.appendChild(this.elem);return this},insertAfter:function(a){a.elem.parentNode.insertBefore(this.elem,a.elem.nextSibling);return this},insertBefore:function(a){a.elem.parentNode.insertBefore(this.elem,a.elem);return this},remove:function(){this.elem.parentNode.removeChild(this.elem);
this.elem=null},detach:function(){this.elem=this.elem.parentNode.removeChild(this.elem);return this},empty:function(){this.elem.innerHTML="";return this},getText:function(){if("textContent"in this.elem)return this.elem.textContent;if("innerText"in this.elem)return this.elem.innerText;throw Error("Unsupported");},setText:function(a){if("textContent"in this.elem)this.elem.textContent=a;else if("innerText"in this.elem)this.elem.innerText=a;else throw Error("Unsupported");return this},getInnerHTML:function(){return this.elem.innerHTML},
setInnerHTML:function(a){this.elem.innerHTML=a;return this},getOuterHTML:function(){return this.elem.outerHTML},setOuterHTML:function(a){this.elem.outerHTML=a;return this},appendText:function(a){this.elem.appendChild(document.createTextNode(a));return this},appendHTML:function(a){var c=document.createDocumentFragment(),b=document.createElement("div");for(b.innerHTML=a;b.firstChild;)c.appendChild(b.firstChild);this.elem.appendChild(c);return this},clone:function(){return h.parse(this.elem.outerHTML)},
on:function(a,c,b){return h.on(this.elem,a,c,b)},removeEvent:function(a){if(this.elem.removeEventListener)this.elem.removeEventListener(a.eventType,a.fn,!1);else if(this.elem.detachEvent)this.elem.detachEvent("on"+a.eventType,a.fn);else throw Error("Unsupported");return this},trigger:function(a){if(document.createEvent){var c=document.createEvent("HTMLEvents");c.initEvent(a,!0,!0);c.eventName=a;this.elem.dispatchEvent(c)}else if(document.createEventObject)c=document.createEventObject(),this.elem.fireEvent("on"+
a,c);else throw Error("Unsupported");},getScroll:function(){return{left:this.elem.scrollLeft,top:this.elem.scrollTop}},setScrollLeft:function(a){this.elem.scrollLeft=a;return this},setScrollTop:function(a){this.elem.scrollTop=a;return this},getBounds:function(){var a=this.elem.getBoundingClientRect(),c=h.browserWindow.getScrollLeft(),b=h.browserWindow.getScrollTop();return{left:a.left+c,top:a.top+b,right:a.right+c,bottom:a.bottom+b,width:a.right==a.left?0:a.right-a.left+1,height:a.top==a.bottom?0:
a.bottom-a.top+1}},getWidth:function(){return this.elem.offsetWidth},getHeight:function(){return this.elem.offsetHeight},getCoord:function(){var a=this.elem.getBoundingClientRect(),c=h.browserWindow.getScrollLeft(),b=h.browserWindow.getScrollTop();return{left:a.left+c,top:a.top+b}},getOffsetParent:function(){return new h.Elem(this.elem.offsetParent)},getRelativeOffset:function(){return{left:this.elem.offsetLeft,top:this.elem.offsetTop}},is:function(a){if(this.elem.mozMatchesSelector)return this.elem.mozMatchesSelector(a);
if(this.elem.webkitMatchesSelector)return this.elem.webkitMatchesSelector(a);if(this.elem.msMatchesSelector)return this.elem.msMatchesSelector(a);a=this.elem.parentNode.querySelectorAll(a);for(var c=0;c<a.length;c++)if(a[c]===this.elem)return!0;return!1},focus:function(){this.elem.focus()},setShown:function(a){a?this.show():this.hide()},hide:function(){this.setAttr("domTools_previous_display",this.getStyle("display"));this.setStyle("display","none");return this},show:function(){var a=this.getAttr("domTools_previous_display");
null!=a&&""!=a&&"none"!=a?this.setStyle("display",a):this.removeStyle("display");return this},toggle:function(){"none"==this.getStyle("display")?this.show():this.hide();return this},animate:function(a){null==a&&(a={});var c=a.properties,b=a.durationMilli;null==b&&(b=400);var d=a.interpolation;null==d&&(d="swing");var f=a.onCompleteCallback,l=a.onStepCallback;a=a.extensionProperties;var e={};if(this.elem==window)e.scrollTop={get:function(){return h.browserWindow.getScrollTop()},set:function(z,C){h.browserWindow.setScrollTop(z)}},
e.scrollLeft={get:function(){return h.browserWindow.getScrollLeft()},set:function(z,C){h.browserWindow.setScrollLeft(z)}};else{var g=this;e.scrollTop={get:function(){return g.getScrollTop()},set:function(z){g.setScrollTop(z)}};e.scrollLeft={get:function(){return g.getScrollLeft()},set:function(z){g.setScrollLeft(z)}}}if(null!=a)for(var k in a)e[k]=a[k];var m=[];k=/^(-?\d+(?:\.\d+)?)([a-zA-Z]*|%)$/g;for(var r in c){a=null;if(null!=e[r])a=e[r].get();else if(a=this.getOwnStyle(r),null==a||""==a)a=this._getComputedStyle(r);
if(null===a||""===a)throw Error("No CSS val :"+r);if(a.indexOf&&(0==a.indexOf("#")||0==a.indexOf("rgb(")||0==a.indexOf("rgba("))){var u=h.util.parseColor(a),x=h.util.parseColor(c[r]);if(null!=u&&null!=x){m.push({css:r,init:u,delta:[x[0]-u[0],x[1]-u[1],x[2]-u[2],x[3]-u[3]],unit:h.util.supportsRGBA()?"rgba":"rgb"});continue}}k.lastIndex=0;u=k.exec(a);if(null==u)throw Error("Bad CSS val "+r+" : "+a);x=parseFloat(u[1]);if(isNaN(x))throw Error("Bad CSS val "+r+" : "+a);a=u[2];var t=c[r];if("string"==typeof c[r]){k.lastIndex=
0;u=k.exec(c[r]);if(null==u)throw Error("Bad CSS val "+r+" : "+c[r]);t=parseFloat(u[1]);if(isNaN(t))throw Error("Invalid target CSS "+r+" : "+c[r]);if(a!=u[2])throw Error("Cannot animate CSS "+r+" from "+a+" to "+u[2]);}m.push({css:r,init:x,delta:t-x,unit:a})}var w=h.util.getTimeStampForAnimation(),A=w;if("linear"==d)var B=0;else if("swing"==d)B=1;else throw Error("Invalid interpolation "+d);g=this;var D=function(){A=h.util.getTimeStampForAnimation();var z=(A-w)/b;1<z&&(z=1);1==B&&(z=Math.sin((z-
.5)*Math.PI)/2+.5);for(var C=0;C<m.length;C++){var y=m[C];var E="rgba"==y.unit?"rgba("+(y.init[0]+y.delta[0]*z|0)+","+(y.init[1]+y.delta[1]*z|0)+","+(y.init[2]+y.delta[2]*z|0)+","+(y.init[3]+y.delta[3]*z)+")":"rgb"==y.unit?"rgb("+(y.init[0]+y.delta[0]*z|0)+","+(y.init[1]+y.delta[1]*z|0)+","+(y.init[2]+y.delta[2]*z|0)+")":y.init+y.delta*z+y.unit;null!=e[y.css]?e[y.css].set(E,g):g.setStyle(y.css,E)}1>z?(window.requestAnimationFrame?window.requestAnimationFrame(D):setTimeout(D,1),null!=l&&l()):null!=
f&&f()};window.requestAnimationFrame?window.requestAnimationFrame(D):setTimeout(D,1)},fadeIn:function(a,c,b){null==a&&(a=500);var d=this;this.setStyle("opacity","0.0");"none"==this.getStyle("display")&&this.removeStyle("display");this.animate({properties:{opacity:1},durationMilli:a,interpolation:c,onCompleteCallback:function(){d.removeStyle("opacity");b&&b()}});return this},fadeOut:function(a,c,b){null==a&&(a=500);var d=this;this.setStyle("opacity","1.0");this.animate({properties:{opacity:0},durationMilli:a,
interpolation:c,onCompleteCallback:function(){d.setStyle("display","none").removeStyle("opacity");b&&b()}});return this},fadeToggle:function(){"none"!=this.getStyle("display")?this.fadeOut():this.fadeIn();return this},slideDown:function(a,c){null==a&&(a=500);var b=this.getStyle("height");"auto"==b&&(this.setStyle("visibility","hidden"),"none"==this.getStyle("display")&&this.removeStyle("display"),b=this.getHeight()-parseInt(this.getStyle("padding-top"))-parseInt(this.getStyle("padding-bottom"))-parseInt(this.getStyle("border-top-width"))-
parseInt(this.getStyle("border-bottom-width")));this.setStyle("height","0px").setStyle("visibility","visible");b=parseInt(b);this.elem.style.height="0px";this.setStyle("overflow","hidden");"none"==this.getStyle("display")&&this.removeStyle("display");var d=this.getStyle("padding-top"),f=this.getStyle("padding-bottom");this.setStyle("padding-top","0px").setStyle("padding-bottom","0px");this.animate({properties:{height:b,"padding-top":d,"padding-bottom":f},durationMilli:a,interpolation:c});return this},
slideUp:function(a,c){null==a&&(a=500);var b=this.getStyle("padding-top"),d=this.getStyle("padding-bottom"),f=this.elem.offsetHeight-parseInt(b)-parseInt(d)-parseInt(this.getStyle("border-top-width"))-parseInt(this.getStyle("border-bottom-width"));this.elem.style.height=f+"px";this.elem.style.overflow="hidden";var l=this;this.animate({properties:{height:0,"padding-top":0,"padding-bottom":0},durationMilli:a,interpolation:c,onCompleteCallback:function(){l.elem.style.display="none";l.setStyle("padding-top",
b).setStyle("padding-bottom",d).setStyle("height",f+"px")}});return this},slideToggle:function(){"none"!=this.getStyle("display")?this.slideUp():this.slideDown();return this},scaleUp:function(a,c,b){null==a&&(a=500);null==c&&(c=0);null==b&&(b=1);var d=this;this.setStyle("transform","scale("+c+")").show();this.animate({properties:{transform_scale:b},durationMilli:a,onCompleteCallback:function(){d.removeStyle("transform")},extensionProperties:{transform_scale:{get:function(){return c},set:function(f,
l){l.setStyle("transform","scale("+f+")")}}}});return this},scaleDown:function(a,c,b){null==a&&(a=500);null==c&&(c=1);null==b&&(b=0);var d=this;this.setStyle("transform","scale("+c+")");this.animate({properties:{transform_scale:b},durationMilli:a,onCompleteCallback:function(){d.removeStyle("transform");d.hide()},extensionProperties:{transform_scale:{get:function(){return c},set:function(f,l){l.setStyle("transform","scale("+f+")")}}}});return this}};h.OfsysDomElemArray=q;q.prototype={get:function(a){if(null==
this.elems[a])throw Error("No element at index : "+a);return new h.Elem(this.elems[a])},first:function(){if(0==this.elems.length)throw Error("Empty");return new h.Elem(this.elems[0])},last:function(){if(0==this.elems.length)throw Error("Empty");return new h.Elem(this.elems[this.elems.length-1])},length:function(){return this.elems.length},addClass:function(a){for(var c=0;c<this.elems.length;c++)h.wrap(this.elems[c]).addClass(a);return this},removeClass:function(a){for(var c=0;c<this.elems.length;c++)h.wrap(this.elems[c]).removeClass(a);
return this},setAttr:function(a,c){for(var b=0;b<this.elems.length;b++)h.wrap(this.elems[b]).setAttr(a,c);return this},removeAttr:function(a){for(var c=0;c<this.elems.length;c++)h.wrap(this.elems[c]).removeAttr(a);return this},setStyle:function(a,c){for(var b=0;b<this.elems.length;b++)h.wrap(this.elems[b]).setStyle(a,c);return this},removeStyle:function(a){for(var c=0;c<this.elems.length;c++)h.wrap(this.elems[c]).removeStyle(a);return this},setProp:function(a,c){for(var b=0;b<this.elems.length;b++)h.wrap(this.elems[b]).setProp(a,
c);return this},setVal:function(a){for(var c=0;c<this.elems.length;c++)h.wrap(this.elems[c]).setVal(a);return this},remove:function(){for(var a=0;a<this.elems.length;a++)h.wrap(this.elems[a]).remove();return this},empty:function(){for(var a=0;a<this.elems.length;a++)h.wrap(this.elems[a]).empty();return this},setText:function(a){for(var c=0;c<this.elems.length;c++)h.wrap(this.elems[c]).setText(a);return this},setInnerHTML:function(a){for(var c=0;c<this.elems.length;c++)h.wrap(this.elems[c]).setInnerHTML(a);
return this},setOuterHTML:function(a){for(var c=0;c<this.elems.length;c++)h.wrap(this.elems[c]).setOuterHTML(a);return this},appendText:function(a){for(var c=0;c<this.elems.length;c++)h.wrap(this.elems[c]).appendText(a);return this},appendHTML:function(a){for(var c=0;c<this.elems.length;c++)h.wrap(this.elems[c]).appendHTML(a);return this},on:function(a,c,b){for(var d=0;d<this.elems.length;d++)h.wrap(this.elems[d]).on(a,c,b);return this},trigger:function(a){for(var c=0;c<this.elems.length;c++)h.wrap(this.elems[c]).trigger(a);
return this},setScrollLeft:function(a){for(var c=0;c<this.elems.length;c++)h.wrap(this.elems[c]).setScrollLeft(a);return this},setScrollTop:function(a){for(var c=0;c<this.elems.length;c++)h.wrap(this.elems[c]).setScrollTop(a);return this},hide:function(){for(var a=0;a<this.elems.length;a++)h.wrap(this.elems[a]).hide();return this},show:function(){for(var a=0;a<this.elems.length;a++)h.wrap(this.elems[a]).show();return this},toggle:function(){for(var a=0;a<this.elems.length;a++)h.wrap(this.elems[a]).toggle();
return this}};h.util={};h.util.cssToCamelCase=function(a){return a.replace(/-+(.)?/g,function(c,b){return b?b.toUpperCase():""})};h.util.supportsRGBA=function(){var a=h.create("script");try{a.elem.style.color="rgba(0, 0, 0, 0.5)"}catch(c){return!1}return!0};h.util.supportsTransform=function(){return"transform"in h.create("div").elem.style};h.util.getTimeStampForAnimation=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?
window.performance.webkitNow():(new Date).getTime()};h.util.parseColor=function(a,c){a=p.util.string.trim(a).toLowerCase();var b=a.match(/^#([0-9a-f]{3})$/i);return b?(b=b[1],[17*parseInt(b.charAt(0),16),17*parseInt(b.charAt(1),16),17*parseInt(b.charAt(2),16),1]):(b=a.match(/^#([0-9a-f]{6})$/i))?(b=b[1],[parseInt(b.substr(0,2),16),parseInt(b.substr(2,2),16),parseInt(b.substr(4,2),16),1]):(b=a.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+.*\d*)\s*\)$/i)||a.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))?
[parseInt(b[1]),parseInt(b[2]),parseInt(b[3]),void 0===b[4]?1:parseFloat(b[4])]:(a=a.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))?[parseInt(a[1]),parseInt(a[2]),parseInt(a[3]),1]:c};h.util.cancelEvent=function(a){a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();p.util.isIE8OrOlder()&&(a.cancelBubble=!0,a.returnValue=!1)};h.util._onInputEventCompatibility=function(a,c){"onpropertychange"in a.elem&&(a.elem.onpropertychange=c);a.on("keyup",{input:a},c)};h.util.makeUnselectable=
function(a){if(p.util.isIE9OrOlder()&&null!=a.tagName){var c=a.tagName.toLowerCase();if("input"!=c&&"select"!=c&&"textarea"!=c)for(1==a.nodeType&&a.setAttribute("unselectable","on"),a=a.firstChild;a;)h.util.makeUnselectable(a),a=a.nextSibling}};h.util.selectNothing=function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges();else if(document.selection)try{document.selection.empty()}catch(a){}};
h.id=function(a){return h._selectByID(a,document)};h.body=function(){return h.wrap(document.body)};h.select1=function(a){return h._select1(a,document)};h.selectAll=function(a){return h._selectAll(a,document)};h.selectAllByClass=function(a){return h._selectAllByClass(a,document)};h.create=function(a,c){var b=document.createElement(a);a=new h.Elem(b);if(null!=c){for(var d in c)("style"!=d||"style"==d&&null!=c.style.toUpperCase)&&b.setAttribute(d,c[d]);if(null!=c.style&&null==c.style.toUpperCase)for(d in c=
c.style,c)a.setStyle(d,c[d])}return a};h.nsCreate=function(a,c,b){if(null==document.createElementNS)throw Error("Namespaces not supported by browser");c=document.createElementNS(a,c);a=new h.Elem(c);if(null!=b){for(var d in b)("style"!=d||"style"==d&&null!=d.toUpperCase)&&c.setAttribute(d,b[d]);if(null!=b.style&&null==b.style.toUpperCase)for(d in b=b.style,b)a.setStyle(d,b[d])}return a};h.parse=function(a){var c=document.createElement("div");c.innerHTML=a;if(1<c.childNodes.length)throw Error("Multiple nodes in html fragment");
return new h.Elem(c.firstChild)};h.wrap=function(a){return new h.Elem(a)};var n=!1;h.onLoad=function(a){if(n)a();else if(window.addEventListener)window.addEventListener("load",a,!1);else if(window.attachEvent)window.attachEvent("onload",a);else throw Error("Not supported");};if(window.addEventListener)window.addEventListener("load",function(){n=!0},!1);else if(window.attachEvent)window.attachEvent("onload",function(){n=!0});else throw Error("Unsupported");h.onReady=function(a){if("complete"==document.readyState||
"interactive"==document.readyState)a();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",a,!1);else if(document.attachEvent)document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&a()});else throw Error("Not supported");};h.on=function(a,c,b,d){var f;if(null==d)var l=f=b;else f=d,l=function(e){f(e,b)};if(!("input"!=c||"oninput"in a&&!p.util.isIE9OrOlder()))return h.util._onInputEventCompatibility(h.wrap(a),l);if(null==d)if(a.addEventListener)a.addEventListener(c,
f,!1);else if(a.attachEvent)a.attachEvent("on"+c,f);else throw Error("Unsupported");else if(a.addEventListener)a.addEventListener(c,l,!1);else if(a.attachEvent)a.attachEvent("on"+c,l);else throw Error("Unsupported");return{eventType:c,fn:l}};h._selectAll=function(a,c){a=c.querySelectorAll(a);return new h.OfsysDomElemArray(p.util.convertToArray(a,0))};h._selectAllByClass=function(a,c){if(c.getElementsByClassName)a=c.getElementsByClassName(a);else if(c.querySelectorAll)a=c.querySelectorAll("."+a);else throw Error("Unsupported");
return new h.OfsysDomElemArray(p.util.convertToArray(a,0))};h._select1=function(a,c){c=c.querySelectorAll(a);if(1==c.length)return new h.Elem(c[0]);if(0==c.length)throw Error("Element(s) not found : "+a);throw Error("Too many element(s) found for "+a+" : "+c.length);};h._selectByID=function(a,c){c="getElementById"in c?c.getElementById(a):c.querySelector("#"+a);if(null==c)throw Error("Element not found : "+a);return new h.Elem(c)};h.svg={create:function(a,c){return h.nsCreate("http://www.w3.org/2000/svg",
a,c)}};h.browserWindow={getSize:function(){var a=1080,c=800;window.innerHeight?(a=window.innerWidth,c=window.innerHeight):window.document.documentElement.clientHeight?(a=window.document.documentElement.clientWidth,c=window.document.documentElement.clientHeight):window.document.body.clientHeight&&(a=window.document.body.clientWidth,c=window.document.body.clientHeight);return{width:a,height:c}},getScrollTop:function(){return void 0!==window.pageYOffset?window.pageYOffset:"CSS1Compat"===(document.compatMode||
"")?document.documentElement.scrollTop:document.body.scrollTop},setScrollTop:function(a){window.scrollTo(h.browserWindow.getScrollLeft(),a)},getScrollLeft:function(){return void 0!==window.pageXOffset?window.pageXOffset:"CSS1Compat"===(document.compatMode||"")?document.documentElement.scrollLeft:document.body.scrollLeft},setScrollLeft:function(a){window.scrollTo(a,h.browserWindow.getScrollTop())},getScrollWidth:function(){return document.body.scrollWidth},getScrollHeight:function(){return document.body.scrollHeight}}})(window.ofsysOptin.dom);
null==window.ofsysOptin&&(window.ofsysOptin={});null==window.ofsysOptin.lightbox&&(window.ofsysOptin.lightbox={});
(function(h){var v=window.ofsysOptin,q=v.dom,p=v.util;v=p.classes.DeclareClassWithVariables;var n={};h.ShowDivInLightbox=function(c,b){null==n[c]&&(n[c]=new a(b),n[c].GetContent().append(q.id(c).detach().show()));n[c].Show()};h.HideLightbox=function(c,b){null!=n[c]&&(n[c].Hide(),b&&b.hideCallback&&b.hideCallback.call(n[c]))};q.on(window,"resize",function(c){c=q.browserWindow.getSize();for(var b in n)n[b].OnWindowResized(c)});var a=v({variables:{m_Background:null,m_LightboxDiv:null,m_ContentDiv:null,
m_CloseButton:null},methods:{init:function(c){null==c&&(c={});var b=p.isIE8OrOlder();this.m_Background=q.create("div",{"class":"DialogInsightLightBoxBackground"+(b?" DialogInsightLightBoxBackground_OldIE":"")+(c.WrappingClass?" "+c.WrappingClass:""),style:{display:"none"}});this.m_LightboxDiv=q.create("div",{"class":"DialogInsightLightBox",style:{"max-width":(c.width||600)+"px"}});this.m_ContentDiv=q.create("div");this.m_CloseButton=q.create("div",{"class":"DialogInsightLightBoxCloseButton"});b=q.browserWindow.getSize().height;
this.m_ContentDiv.setStyles({overflow:"auto","max-height":b-100+"px"});this.SetBackgroundConfig(c.BackgroundConfig);q.body().append(this.m_Background.append(this.m_LightboxDiv.append(this.m_ContentDiv).append(this.m_CloseButton)));var d=this;this.m_CloseButton.on("click",function(f){d.Hide();c.hideCallback&&c.hideCallback.call(d)})},Show:function(){var c=q.browserWindow.getSize().height;this.m_ContentDiv.setStyles({overflow:"auto","max-height":c-100+"px"});c=q.util.supportsRGBA();var b=q.util.supportsTransform();
if(c=c&&b)this.m_LightboxDiv.hide().setStyle("opacity","0"),this.m_Background.setStyle("background-color","rgba(0,0,0,0.01)");this.m_Background.show();c&&(c=this.CheckSupportCSSVariable()?this.m_Background.getStyle("--background-color"):"rgba(0, 0, 0, 0)",this.m_Background.animate({properties:{"background-color":c},durationMilli:500}),this.m_LightboxDiv.setStyle("transform","scale(0)").show().scaleUp(500,.5,1).fadeIn(500))},Hide:function(){var c=q.util.supportsRGBA(),b=q.util.supportsTransform(),
d=this;c&&b?(this.m_LightboxDiv.scaleDown(500,1,.5).fadeOut(500),this.m_Background.animate({properties:{"background-color":"rgba(0,0,0,0.01)"},durationMilli:500,onCompleteCallback:function(){d.m_Background.hide().removeStyle("background-color")}})):this.m_Background.hide()},GetContent:function(){return this.m_ContentDiv},OnWindowResized:function(c){this.m_ContentDiv.setStyles({overflow:"auto","max-height":c.height-100+"px"})},SetBackgroundConfig:function(c){null!==c&&void 0!==c&&(c.IsVisible&&null!=
c.Color&&""!=c.Color?this.m_Background.setStyles({"--background-color":c.Color}):c.IsVisible||this.m_Background.setStyles({"--background-color":"rgba(0, 0, 0, 0)"}),c.IsVisible||(this.m_Background.setStyles({"pointer-events":"none"}),this.m_LightboxDiv.setStyles({"pointer-events":"auto"})))},CheckSupportCSSVariable:function(){return window.CSS&&CSS.supports("color","var(--background-color)")}}});h.LightboxPopup=a})(window.ofsysOptin.lightbox);null==window.ofsysOptin&&(window.ofsysOptin={});
null==window.ofsysOptin.datepicker&&(window.ofsysOptin.datepicker={});
(function(h){function v(d,f){d=new Date(d.getTime());d.setDate(d.getDate()+f);return d}function q(d,f){d=new Date(d.getTime());d.setMonth(d.getMonth()+f);return d}var p=window.ofsysOptin,n=p.dom,a=p.util,c=a.classes.DeclareClassWithVariables;h.ShowDatePickerForInput=function(d,f,l,e){d=n.id(d);var g=null;null!=d.getValue()&&0<d.getValue().length&&(g=a.datetime.parseOFSYSDateTime(d.getValue()));new p.datepicker.DatePickerPopup({lang:l,year:null==g?null:g.getFullYear(),month:null==g?null:g.getMonth(),
day:null==g?null:g.getDate(),showTimePicker:f,hours:null==g?null:g.getHours(),minutes:null==g?null:g.getMinutes(),anchor:d,callback:function(k){var m=k.getFullYear()+"."+a.prefixZeros(k.getMonth()+1,2)+"."+a.prefixZeros(k.getDate(),2);f&&(m+=" "+a.prefixZeros(k.getHours(),2)+":"+a.prefixZeros(k.getMinutes(),2));e(m)}})};var b=null;c=c({variables:{m_CurrMonth:-1,m_CurrYear:-1,m_SelectedDate:null,m_Options:null,m_Callback:null,m_Lang:null,m_Div:null,m_txtTimePicker:null,m_Table:null},methods:{init:function(d){var f=
this;if(null!=b)try{b.Close(),b=null}catch(r){}b=this;null==d&&(d={});this.m_Options=d;this.m_Callback=d.callback;this.m_Div=n.create("div",{"class":"DialogInsightDatePicker"});this.m_txtTimePicker=null;this.m_Div.on("mouseleave",function(r){f.Close()});this.m_Div.on("click",function(r){r.target!=f.m_Div.elem&&r.srcElement!=f.m_Div.elem||f.Close()});this.m_Table=null;this.m_Lang=null==d.lang?"en":d.lang;this.m_SelectedDate=null!=d.year&&null!=d.month&&null!=d.day?{year:d.year,month:d.month,day:d.day}:
null;null==d.year&&(d.year=(new Date).getFullYear());null==d.month&&(d.month=(new Date).getMonth());this.m_CurrYear=d.year;this.m_CurrMonth=d.month;this.Render();n.body().append(this.m_Div);var l=n.browserWindow.getScrollTop(),e=n.browserWindow.getSize().height;d=d.anchor.getBounds();var g=d.left,k=d.top+d.height-1,m=this.m_Div.getHeight()-100;k-l+m>e-25?(l=e-d.top-100-1,0>d.top-m?this.m_Div.setStyles({left:g-100+"px",top:"-90px"}):this.m_Div.setStyles({left:g-100+"px",bottom:l+"px"})):this.m_Div.setStyles({left:g-
100+"px",top:k-100+"px"})},Render:function(){var d=this;if(0>this.m_CurrMonth||11<this.m_CurrMonth)throw Error("Invalid month");if("fr-CA"==this.m_Lang||"fr-FR"==this.m_Lang){var f="Dim Lun Mar Mer Jeu Ven Sam".split(" ");var l="Janvier F&eacute;vrier Mars Avril Mai Juin Juillet Ao&ucirc;t Septembre Octobre Novembre D&eacute;cembre".split(" ");var e="Fermer";var g="Heure : "}else f="Sun Mon Tue Wed Thu Fri Sat".split(" "),l="January February March April May June July August September October November December".split(" "),
e="Close",g="Time : ";this.m_Div.empty();var k=n.create("div",{"class":"DialogInsightDatePickerContent"});this.m_Div.append(k);for(var m=new Date(this.m_CurrYear,this.m_CurrMonth,1),r=v(q(m,1),-1),u=m;0!=u.getDay();)u=v(u,-1);for(var x=r;6!=x.getDay();)x=v(x,1);var t,w;k.append(n.create("div",{"class":"DialogInsightDatePickerHeader"}).append(n.create("div",{"class":"DialogInsightDatePickerMonth"}).setInnerHTML(l[this.m_CurrMonth])).append(w=n.create("input",{type:"text",maxlength:"4","class":"DialogInsightDatePickerYear"}).setValue(this.m_CurrYear)).append(l=
n.create("span",{"class":"DialogInsightDatePickerPrev"}).setText("<")).append(t=n.create("span",{"class":"DialogInsightDatePickerNext"}).setText(">")));l.on("click",function(A){d.btnPrevOnClick()});t.on("click",function(A){d.btnNextOnClick()});w.on("focus",function(A){try{w.elem.select()}catch(B){}});w.on("blur",function(A){d.OnChangeYear(w)});w.on("keydown",function(A){13==A.keyCode&&d.OnChangeYear(w)});w.on("keyup",function(A){48<=A.keyCode&&57>=A.keyCode&&4==w.getValue().length&&d.OnChangeYear(w)});
this.m_Table=n.create("table",{"class":"DialogInsightDatePickerMonthTbl"});l=n.create("tr");this.m_Table.append(l);for(t=0;t<f.length;t++)l.append(n.create("th").setText(f[t]));f=new Date;k.append(this.m_Table);l=n.create("tr");for(this.m_Table.append(l);u<=x;)l.append(t=n.create("td").setText(u.getDate())),(u<m||u>r)&&t.addClass("OutOfMonth"),null!=this.m_SelectedDate&&u.getFullYear()==this.m_SelectedDate.year&&this.m_SelectedDate.month==u.getMonth()&&this.m_SelectedDate.day==u.getDate()&&t.addClass("SelectedDate"),
u.getFullYear()==f.getFullYear()&&u.getMonth()==f.getMonth()&&u.getDate()==f.getDate()&&t.addClass("Today"),6==u.getDay()&&(l=n.create("tr"),this.m_Table.append(l)),t.on("click",{date:u},function(A,B){d.m_SelectedDate={year:B.date.getFullYear(),month:B.date.getMonth(),day:B.date.getDate()};d.OnSelectDate(!0,!1)}),u=v(u,1);k.append(m=n.create("div",{"class":"DialogInsightDatePickerFooter"}));!0===this.m_Options.showTimePicker&&(m.append(n.create("div",{"class":"DialogInsightTimePickerContainer"}).append(n.create("span").setText(g)).append(this.m_txtTimePicker=
n.create("input",{type:"text","class":"DialogInsightTimePickerTxtbox",placeholder:"HH:mm"}))),null!=this.m_Options.hours||null!=this.m_Options.minutes?(g=this.m_Options.minutes||0,this.m_txtTimePicker.setValue(a.prefixZeros(this.m_Options.hours||0,2)+":"+a.prefixZeros(g,2))):this.m_txtTimePicker.setValue("00:00"),this.m_txtTimePicker.on("blur",function(A){d.OnSelectDate(!1,!0)}),this.m_txtTimePicker.on("keyup",function(A){13==A.keyCode?d.OnSelectDate(!1,!0):(A=d.m_txtTimePicker.getValue(),5==A.length&&
":"==A[2]?d.OnSelectDate(!1,!0):4==A.length&&":"==A[1]&&d.OnSelectDate(!1,!0))}));m.append(e=n.create("div",{"class":"DialogInsightDatePickerCloseBtn"}).setText(e));e.on("click",function(A){!0===d.m_Options.showTimePicker&&d.OnSelectDate(!0,!0);d.Close()});k.addClass("DialogInsightUnselectable");n.util.makeUnselectable(k.elem)},OnChangeYear:function(d){var f=null;try{f=a.parseInt(d.getValue())}catch(l){}null!=f&&1900<f&&3E3>f?(this.m_CurrYear=f,this.Render()):d.setValue(this.m_CurrYear)},OnSelectDate:function(d,
f){var l=0,e=0;if(!0===this.m_Options.showTimePicker){var g=a.string.trim(this.m_txtTimePicker.getValue());0<g.length?(f=a.datetime.parseOFSYSTime(g),null==f?this.m_txtTimePicker.addClass("Error"):(l=this.m_Options.hours=f.HH,e=this.m_Options.minutes=f.mm,this.m_txtTimePicker.removeClass("Error"))):f&&(l=this.m_Options.hours=0,e=this.m_Options.minutes=0,this.m_txtTimePicker.removeClass("Error"))}null!=this.m_SelectedDate&&null!=this.m_SelectedDate.year&&null!=this.m_SelectedDate.month&&null!=this.m_SelectedDate.day&&
!1!==this.m_Callback(new Date(this.m_SelectedDate.year,this.m_SelectedDate.month,this.m_SelectedDate.day,l,e,0))&&(!0===this.m_Options.showTimePicker?d&&this.Render():this.Close())},Close:function(){null!=this.m_Div.elem&&this.m_Div.remove();b=null},btnPrevOnClick:function(){--this.m_CurrMonth;0>this.m_CurrMonth&&(this.m_CurrMonth=11,--this.m_CurrYear);this.Render()},btnNextOnClick:function(){this.m_CurrMonth+=1;11<this.m_CurrMonth&&(this.m_CurrMonth=0,this.m_CurrYear+=1);this.Render()}}});h.DatePickerPopup=
c})(window.ofsysOptin.datepicker);null==window.ofsysOptin&&(window.ofsysOptin={});null==window.ofsysOptin.clientBaseForm&&(window.ofsysOptin.clientBaseForm={});null==window.ofsysOptin.baseFormUtils&&(window.ofsysOptin.baseFormUtils={});null==window.DI&&(window.DI={});null==DI.Forms&&(DI.Forms={});null==DI.Forms.Generic&&(DI.Forms.Generic=window.ofsysOptin);null==DI.Forms.Generic.Client&&(DI.Forms.Generic.Client=window.ofsysOptin.clientBaseForm);null==DI.Forms.Generic.Dom&&(DI.Forms.Generic.Dom=window.ofsysOptin.dom);
null==DI.Forms.Generic.Lightbox&&(DI.Forms.Generic.Lightbox=window.ofsysOptin.lightbox);null==DI.Validators&&(DI.Validators={});null==DI.Validators.Libraries&&(DI.Validators.Libraries={});
(function(h){function v(e){e.height=n.body().getHeight()+parseInt(n.body().getStyle("margin-top"))+parseInt(n.body().getStyle("margin-bottom"));if(d)try{window.parent.postMessage("di:"+JSON.stringify(e),"*")}catch(g){console.error(g,"Postmessage failed")}}function q(e,g,k){var m=k.getHeight();k.setStyle("min-height",m+"px");k.removeClass("DialogInsightLoading");if(0==(navigator.language||navigator.userLanguage).indexOf("fr")){m="Erreur inattendue";var r="R\u00e9essayez plus tard et, si le probl\u00e8me persiste, communiquez avec le service \u00e0 la client\u00e8le."}else m=
"Unexpected error",r="Try again later and if the problem continues, contact client support.";k.empty().append(n.create("div",{style:{"font-weight":"bold",color:"#990000"}}).setText(m)).append(n.create("div",{style:{"padding-top":"6px",color:"#990000"}}).setText(r)).append(n.create("div",{style:{"padding-top":"20px",color:"#999999","max-height":"200px",overflow:"auto","font-family":"monospace","white-space":"pre-wrap"}}).setText(e+"\n"+g));k.show();d&&v({event:"internalError"})}var p=window.ofsysOptin,
n=p.dom,a=p.util,c=p.baseFormUtils,b=a.classes.DeclareClassWithVariables,d="1"==a.getURLParameters().DI_Intercept;h.HandleInternalError=q;var f={};h.InitForm=function(e){if(null!=f[e.formIdent])throw Error("Form already exists: "+e.formIdent);try{var g=n.id(e.idBaseDiv);f[e.formIdent]=new l(g,e)}catch(k){return window.console&&console.error(k," | stack = ",k.stack),q("[InitForm] Uncaught exception: "+k,k.stack,g),null}e.visible&&g.show();return f[e.formIdent]};h.GetForm=function(e){if(null==f[e])throw Error("Form does not exist: "+
e);return f[e]};var l=b({variables:{m_FormDefinition:null,m_BaseDiv:null,m_OnResizeCallbacks:null,m_LastNotifiedHeight:null,m_GotInvisibleRecaptcha:!1},methods:{init:function(e,g){var k=this;this.m_FormDefinition=g;this.m_BaseDiv=e;this.m_OnResizeCallbacks=[];this.m_LastNotifiedHeight=null;e=a.isIE8OrOlder();for(g=0;g<this.m_FormDefinition.fields.length;g++){var m=this.m_FormDefinition.fields[g];if("radio"==m.inputType){m.input=[];for(var r=n.selectAll("input[name="+m.id+"]"),u=0;u<r.length();u++){var x=
r.get(u);m.input.push(x);x.on("change",{currField:m},function(t,w){k.PerformLiveValidation(w.currField)});x.on("keydown",{currField:m},function(t,w){13==t.keyCode&&n.util.cancelEvent(t)})}}else if("recaptcha"==m.inputType)m.input=n.id(m.id),c.RecaptchaHelper.WhenRecaptchaLoaded({currField:m,formDef:this.m_FormDefinition},function(t){t.currField.recaptchaWidgetID=grecaptcha.render(t.currField.id,{sitekey:t.formDef.recaptchaSiteKey||"missing-key",callback:function(w){k.PerformLiveValidation(t.currField)}})});
else if("invisible_recaptcha"==m.inputType)m.input=n.id(m.id),c.RecaptchaHelper.WhenRecaptchaLoaded({currField:m,formDef:this.m_FormDefinition},function(t){t.currField.recaptchaWidgetID=grecaptcha.render(t.currField.id,{sitekey:t.formDef.recaptchaSiteKey||"missing-key",size:"invisible",callback:a.methodRef(k,k.OnInvisibleRecaptchaReady)})}),this.m_GotInvisibleRecaptcha=!0;else if("checkbox"==m.inputType)m.input=n.id(m.id),m.input.on("change",{currField:m},function(t,w){k.PerformLiveValidation(w.currField)}),
e&&(m.input.on("click",{currField:m},function(t,w){setTimeout(function(){k.PerformLiveValidation(w.currField)},0)}),m.input.on("blur",{currField:m},function(t,w){setTimeout(function(){k.PerformLiveValidation(w.currField)},0)})),m.input.on("keydown",{currField:m},function(t,w){13==t.keyCode&&n.util.cancelEvent(t)});else if("select"==m.inputType)m.input=n.id(m.id),r=m.input.getSelectedOption(),null!=r&&(r=r.getOwnStyle("color"),null!=r&&""!=r?m.input.setStyle("color",r):m.input.removeStyle("color")),
m.input.on("change",{currField:m},function(t,w){k.PerformLiveValidation(w.currField);t=w.currField.input;w=t.getSelectedOption();null!=w&&(w=w.getOwnStyle("color"),null!=w&&""!=w?t.setStyle("color",w):t.removeStyle("color"))});else if(m.input=n.id(m.id),c.InitSimulatedPlaceholder(m.input),m.input.on("blur",{currField:m},function(t,w){k.PerformLiveValidation(w.currField)}),"textarea"!=m.inputType)m.input.on("keydown",function(t){13==t.keyCode&&n.util.cancelEvent(t)});null!=this.m_FormDefinition.fieldValues&&
null!=this.m_FormDefinition.fieldValues[m.name]&&this.SetFieldValue(m,this.m_FormDefinition.fieldValues[m.name])}d&&(v({event:"init"}),n.onLoad(function(){v({event:"onload"})}),this.m_BaseDiv.on("keydown",function(t){27==t.keyCode&&v({event:"keydown_esc"})}));this.NotifySizeChange()},OnInvisibleRecaptchaReady:function(){},PerformLiveValidation:function(e){try{var g=this.GetFieldValue(e);this.ClearInlineErrorForField(e);if(null!=e.validators&&0<e.validators.length)for(var k=0;k<e.validators.length;k++){var m=
this.RunValidator(g,e.validators[k],e);if("error"==m.status){this.DisplayInlineError(m.errorMessage,e);break}null!=m.normalizedValue&&m.normalizedValue!==g&&this.SetFieldValue(e,m.normalizedValue)}d&&v({event:"liveValidation"});this.NotifySizeChange()}catch(r){window.console&&console.error(r," | stack = ",r.stack),this.InternalError("[Submit] Uncaught exception: "+r,r.stack)}},GetFieldValue:function(e){if("checkbox"==e.inputType)return e.input.isChecked();if("radio"==e.inputType){for(var g=0;g<e.input.length;g++)if(e.input[g].isChecked())return e.input[g].getAttr("value");
return null}if("recaptcha"==e.inputType||"invisible_recaptcha"==e.inputType)return null==e.recaptchaWidgetID||null==window.grecaptcha?null:grecaptcha.getResponse(e.recaptchaWidgetID);e=e.input.getValue();null!=e&&(e=a.string.trim(e));return e},SetFieldValue:function(e,g){if("checkbox"==e.inputType)!0===g||1===g||"true"===g||"1"===g||"True"===g?e.input.setChecked(!0):!1===g||0===g||"false"===g||"0"===g||"False"===g||null==g?e.input.setChecked(!1):(e.input.setChecked(!1),window.console&&console.warn("Invalid value for checkbox: ",
g));else if("radio"==e.inputType)for(var k=0;k<e.input.length;k++)e.input[k].getAttr("value")==g?e.input[k].setChecked(!0):e.input[k].setChecked(!1);else"recaptcha"!=e.inputType&&"invisible_recaptcha"!=e.inputType&&("select"==e.inputType?(e.input.setValue(g),g=e.input.getSelectedOption(),null!=g&&(g=g.getOwnStyle("color"),null!=g&&""!=g?e.input.setStyle("color",g):e.input.removeStyle("color"))):(null==g||""==g||"date"!=e.inputType&&"datetime"!=e.inputType||(k=p.util.datetime.parseOFSYSDateTime(g),
null!=k&&(g=k.getFullYear()+"."+a.prefixZeros(k.getMonth()+1,2)+"."+a.prefixZeros(k.getDate(),2),"datetime"==e.inputType&&(g+=" "+a.prefixZeros(k.getHours(),2)+":"+a.prefixZeros(k.getMinutes(),2)))),null==g?e.input.setValue(""):e.input.setValue(g),e.input.hasClass("DialogInsightInputWithPlaceholder")&&(k=e.input.firstParentMatching(".DialogInsightInputWithPlaceholderContainer"),null!=k&&(null!=g&&0<g.length?k.addClass("PlaceholderInputHasText"):k.removeClass("PlaceholderInputHasText")))));this.PerformLiveValidation(e)},
InternalError:function(e,g){q(e,g,this.m_BaseDiv)},GetFieldDefByName:function(e){for(var g=0;g<this.m_FormDefinition.fields.length;g++)if(this.m_FormDefinition.fields[g].name==e)return this.m_FormDefinition.fields[g];return null},GetFieldDefByInputID:function(e){for(var g=0;g<this.m_FormDefinition.fields.length;g++)if(this.m_FormDefinition.fields[g].id==e)return this.m_FormDefinition.fields[g];return null},DisplayGlobalError:function(e){n.id(this.m_FormDefinition.idBaseDiv+"_globalErrors").append(n.create("div").appendHTML(e));
try{document.querySelector("a[name="+this.m_FormDefinition.idBaseDiv+"_globalErrors_anchor]").scrollIntoView()}catch(g){console.warn(g)}},DisplayInlineError:function(e,g){var k=n.id(g.id+"_errors");null!=g.inputType&&"textarea"!=g.inputType&&"select"!=g.inputType&&"date"!=g.inputType&&"datetime"!=g.inputType||g.input.addClass("DialogInsightFieldInError");k.empty().append(n.create("div",{"class":"DialogInsightErrorContents"}).appendHTML(e))},ClearInlineErrorForField:function(e){n.id(e.id+"_errors").empty();
null!=e.inputType&&"textarea"!=e.inputType&&"select"!=e.inputType&&"date"!=e.inputType&&"datetime"!=e.inputType||e.input.removeClass("DialogInsightFieldInError")},ClearAllErrors:function(){n.id(this.m_FormDefinition.idBaseDiv+"_globalErrors").empty();for(var e=0;e<this.m_FormDefinition.fields.length;e++)this.ClearInlineErrorForField(this.m_FormDefinition.fields[e]);this.m_BaseDiv.findAll(".DialogInsightFieldInError").removeClass("DialogInsightFieldInError")},RunValidator:function(e,g,k){if((null==
e||0==e.length)&&"required"!=g)return{status:"success"};var m=DI.Validators.Libraries.GetValidator(g);if(null==m)throw Error("Unknown validator: "+g);e=m.fn(e,k);"success"!=e.status&&(g=null,null!=k.errorMessages&&null!=k.errorMessages[e.errorCode]&&(g=k.errorMessages[e.errorCode]),null==g&&null!=this.m_FormDefinition.errorMessages[e.errorCode]&&(g=this.m_FormDefinition.errorMessages[e.errorCode]),null==g&&null!=this.m_FormDefinition.errorMessages.general&&(g=this.m_FormDefinition.errorMessages.general),
null==g&&(g="Error"),g=a.string.formatTemplate(g,{"{0}":k.lbl}),"interval"==e.errorCode?g=a.string.formatTemplate(g,{"{1}":k.min||0,"{2}":k.max||0}):"min"==e.errorCode?g=a.string.formatTemplate(g,{"{1}":k.min||0}):"max"==e.errorCode&&(g=a.string.formatTemplate(g,{"{1}":k.max||0})),e.errorMessage=g);return e},OnResize:function(e){this.m_OnResizeCallbacks.push(e)},NotifySizeChange:function(){if(0!=this.m_OnResizeCallbacks.length){var e=this.m_BaseDiv.getHeight()|0;if(e!=this.m_LastNotifiedHeight){this.m_LastNotifiedHeight=
e;for(var g=0;g<this.m_OnResizeCallbacks.length;g++)this.m_OnResizeCallbacks[g](e)}}},GetValuesAndValidate:function(){this.ClearAllErrors();this.NotifySizeChange();for(var e={},g=0;g<this.m_FormDefinition.fields.length;g++){var k=this.m_FormDefinition.fields[g],m=this.GetFieldValue(k);e[k.name]=""===m?null:m}m=!1;var r=[],u=!1;for(g=0;g<this.m_FormDefinition.fields.length;g++)if(k=this.m_FormDefinition.fields[g],null!=k.validators&&0<k.validators.length)for(var x=0;x<k.validators.length;x++){var t=
this.RunValidator(e[k.name],k.validators[x],k);if("success"!=t.status){m=!0;this.DisplayInlineError(t.errorMessage,k);r.push({Field:k.name,ErrorMessage:t.errorMessage});if(0==u&&null!=k.input)try{k.input.focus(),u=!0}catch(w){console.error(w)}break}null!=t.normalizedValue&&t.normalizedValue!==e[k.name]&&(this.SetFieldValue(k,t.normalizedValue),e[k.name]=t.normalizedValue)}if(m)return this.DisplayGlobalError(this.m_FormDefinition.errorMessages.checkInlineErrors),this.NotifySizeChange(),d&&v({event:"validationError"}),
null!=this.m_FormDefinition.onError&&!1===this.m_FormDefinition.onError(r)?void 0:{gotValidationError:!0};d&&v({event:"validationSuccess"});return{gotValidationError:!1,formValues:e}},ShowFormDatePicker:function(e,g){var k=this;p.datepicker.ShowDatePickerForInput(e,g,this.m_FormDefinition.culture,function(m){k.SetFieldValue(k.GetFieldDefByInputID(e),m)})}}});h.ClientBaseForm=l})(window.ofsysOptin.clientBaseForm);
(function(h){var v=window.ofsysOptin,q=v.util,p={_waitingForRecaptcha:[],NotifyRecaptchaIsReady:function(){for(var n=0;n<p._waitingForRecaptcha.length;n++)p._waitingForRecaptcha[n].fn(p._waitingForRecaptcha[n].data);p._waitingForRecaptcha=[]},WhenRecaptchaLoaded:function(n,a){null!=window.grecaptcha&&null!=window.grecaptcha.render?a(n):p._waitingForRecaptcha.push({data:n,fn:a})}};h.RecaptchaHelper=p;window.ofsysForm_NotifyRecaptchaIsReady=v.baseFormUtils.RecaptchaHelper.NotifyRecaptchaIsReady;h.InitSimulatedPlaceholder=
function(n){if(n.hasClass("DialogInsightInputWithPlaceholder")){var a=n.firstParentMatching(".DialogInsightInputWithPlaceholderContainer");null!=a&&(0<q.string.trim(n.getValue()).length&&a.addClass("PlaceholderInputHasText"),n.on("input",{input:n,placeholderContainer:a},function(c,b){c=b.input.getValue();0<q.string.trim(c).length||0<=c.indexOf("\n")?b.placeholderContainer.addClass("PlaceholderInputHasText"):b.placeholderContainer.removeClass("PlaceholderInputHasText")}))}}})(window.ofsysOptin.baseFormUtils);
(function(h){var v=window.ofsysOptin.util;h.GetValidator=function(q){var p=q.split(".");if(2==p.length){var n=p[0];q=p[1];if(null!=h[n]&&null!=h[n][q])return h[n][q]}return null!=h.builtInValidators[q]?h.builtInValidators[q]:null};h.builtInValidators={required:{fn:function(q,p){return null===q||void 0===q||0==q.length||!1===q?{status:"incomplete",errorCode:"recaptcha"==p.inputType||"invisible_recaptcha"==p.inputType?"recaptcha":"required"}:{status:"success"}}},"int":{fn:function(q,p){return/^(-)?\d+$/i.test(q)?
{status:"success"}:{status:"error",errorCode:"dataType"}}},"float":{fn:function(q,p){return/^(-)?\d+([.]\d+)?$/i.test(q)?{status:"success"}:{status:"error",errorCode:"dataType"}}},minmax:{fn:function(q,p){q=parseFloat(q);return(null==p.min||q>=p.min)&&(null==p.max||q<=p.max)?{status:"success"}:{status:"error",errorCode:"interval"}}},email:{fn:function(q,p){return/^(([^<>()[\]\.,;:\s@"]+(\.[^<>()[\]\.,;:\s@"]+)*)|(".+"))@(([^<>()[\]\.,;:\s@"]+\.)+[^<>()[\]\.,;:\s@"]{2,})$/i.test(q)?{status:"success"}:
{status:"error",errorCode:"inputMask"}}},date:{fn:function(q,p){q=/^(\d+)[.-](\d+)[.-](\d+)$/gm.exec(q);p=null;if(null!=q&&4==q.length){p=v.parseInt(q[1]);var n=v.parseInt(q[2])-1;q=v.parseInt(q[3]);p=v.datetime.buildDateWithStrictValidation(p,n,q,0,0,0)}return null!=p?{status:"success"}:{status:"error",errorCode:"inputMask"}}},datetime:{fn:function(q,p){return null!=v.datetime.parseOFSYSDateTime(q)?{status:"success"}:{status:"error",errorCode:"inputMask"}}}}})(DI.Validators.Libraries);
null==window.ofsysOptin&&(window.ofsysOptin={});null==window.ofsysOptin.clientBaseForm&&(window.ofsysOptin.clientBaseForm={});null==window.ofsysOptin.baseFormUtils&&(window.ofsysOptin.baseFormUtils={});null==window.DI&&(window.DI={});null==DI.Forms&&(DI.Forms={});null==DI.Forms.Optin&&(DI.Forms.Optin=window.ofsysOptin);null==DI.Forms.Optin.Client&&(DI.Forms.Optin.Client=window.ofsysOptin.clientBaseForm);null==DI.Forms.Optin.Dom&&(DI.Forms.Optin.Dom=window.ofsysOptin.dom);
null==DI.Forms.Optin.Lightbox&&(DI.Forms.Optin.Lightbox=window.ofsysOptin.lightbox);
(function(h){function v(f,l){n.net.corsAjax({url:f.url,data:JSON.stringify({idWorkflow:f.idWorkflow,wfKey:f.wfKey,tokens:null,nodeKey:f.nodeKey,culture:f.culture,isDev:!0===f.devWorkflow,data:{identification:{idSendLog:f.idSendLog,idSMSSendLog:f.idSMSSendLog,slKey:f.slKey,idContact:f.idContact,clKey:f.clKey}}}),success:function(e){try{var g=JSON.parse(e)}catch(k){e=p.id(f.idBaseDiv);h.HandleInternalError("[GetContactEditData] Uncaught exception: "+k,k.stack,e);e.removeClass("DialogInsightLoading");
return}!0===g.success&&null!=g.data?null!=g.data.record?l(g.data.record,g.tokens):("InvalidAccess"==g.data.ExitCode||"IdentificationFailure"==g.data.ExitCode?(p.id(f.idBaseDiv).show(),p.id(f.idBaseDiv).find1("div.DialogInsightFormContainer").hide(),p.id(f.idBaseDiv+"_invalidAccess").show(),e=p.id(f.idBaseDiv)):(e=p.id(f.idBaseDiv),h.HandleInternalError("[GetContactEditData] workflow error",JSON.stringify(g),e)),e.removeClass("DialogInsightLoading")):("IdentificationFailure"==g.errorCode?(p.id(f.idBaseDiv).show(),
p.id(f.idBaseDiv).find1("div.DialogInsightFormContainer").hide(),p.id(f.idBaseDiv+"_invalidAccess").show(),e=p.id(f.idBaseDiv)):(e=p.id(f.idBaseDiv),h.HandleInternalError("[GetContactEditData] workflow error",JSON.stringify(g),e)),e.removeClass("DialogInsightLoading"))},error:function(e,g){var k=p.id(f.idBaseDiv);h.HandleInternalError("[GetContactEditData] Http error: "+e,g,k)}})}var q=window.ofsysOptin,p=q.dom,n=q.util,a=h.ClientBaseForm,c={Optin:1,ProfileUpdate:2,Identification:3};h.EnumOptinMode=
c;var b={};h.InitOptinForm=function(f){if(null!=b[f.formIdent])throw Error("Form already exists: "+f.formIdent);var l=p.id(f.idBaseDiv);try{if(f.mode==c.ProfileUpdate){var e=n.getURLParameters();if(null!=e.idSendLog)f.idSendLog=e.idSendLog,f.slKey=e.slKey,f.idContact=e.idContact,f.clKey=e.clKey;else if(null!=e.idSMSSendLog)f.idSMSSendLog=e.idSMSSendLog,f.slKey=e.slKey,f.idContact=e.idContact,f.clKey=e.clKey;else if(null!=e.idContact)f.idContact=e.idContact,f.clKey=e.clKey;else{p.id(f.idBaseDiv).show();
p.id(f.idBaseDiv).find1("div.DialogInsightFormContainer").hide();p.id(f.idBaseDiv+"_invalidAccess").show();return}l.addClass("DialogInsightLoading");v(f,function(g,k){f.fieldValues=g;f.tokens=k;b[f.formIdent]=new d(l,f);l.removeClass("DialogInsightLoading")})}else b[f.formIdent]=new d(l,f)}catch(g){return window.console&&console.error(g," | stack = ",g.stack),h.HandleInternalError("[InitOptinForm] Uncaught exception: "+g,g.stack,l),null}f.visible&&l.show();return b[f.formIdent]};h.GetOptinForm=function(f){if(null==
b[f])throw Error("Form does not exist: "+f);return b[f]};var d=a.Extend({variables:{m_FormTable:null,m_SuccesDiv:null,m_SubmitButton:null,m_IsSubmitInProgress:!1},methods:{init:function(f,l){this.CallMethod(a.init)(f,l);this.m_FormTable=f.find1("div.DialogInsightFormContainer");this.m_SuccesDiv=p.id(l.idSuccessDiv)},Submit:function(f){this.m_SubmitButton=p.wrap(f);try{this._DoSubmit(!1)}catch(l){window.console&&console.error(l," | stack = ",l.stack),this.InternalError("[Submit] Uncaught exception: "+
l,l.stack)}},OnInvisibleRecaptchaReady:function(){this._DoSubmit(!0)},_DoSubmit:function(f){if(1!=this.m_IsSubmitInProgress){var l=this.GetValuesAndValidate();if(!l.gotValidationError)if(!0===this.m_GotInvisibleRecaptcha&&!0!==f)grecaptcha.execute();else{f=l.formValues;var e=this.m_SubmitButton.firstParentMatching(".DialogInsightFormSubmit");this.m_IsSubmitInProgress=!0;e.addClass("DialogInsightFormSubmitInProgress");this.m_SubmitButton.setAttr("disabled","disabled");l=f["g-recaptcha-response"];delete f["g-recaptcha-response"];
var g=this;n.net.corsAjax({url:this.m_FormDefinition.url,data:JSON.stringify({idWorkflow:this.m_FormDefinition.idWorkflow,wfKey:this.m_FormDefinition.wfKey,nodeKey:this.m_FormDefinition.nodeKey,culture:this.m_FormDefinition.culture,isDev:!0===this.m_FormDefinition.devWorkflow,tokens:this.m_FormDefinition.tokens,data:{record:f,"g-recaptcha-response":l}}),success:function(k){g.m_IsSubmitInProgress=!1;e.removeClass("DialogInsightFormSubmitInProgress");g.m_SubmitButton.removeAttr("disabled");g.HandleSubmitResponse(k);
g.NotifySizeChange()},error:function(k,m){g.m_IsSubmitInProgress=!1;e.removeClass("DialogInsightFormSubmitInProgress");g.m_SubmitButton.removeAttr("disabled");window.console&&console.error("***cors error",m,k);g.InternalError("Ajax response error "+k,m);g.NotifySizeChange()}})}}},HandleSubmitResponse:function(f){try{var l=JSON.parse(f)}catch(e){h.HandleInternalError("[HandleSubmitResponse] Uncaught exception parsing json: "+e,e.stack,this.m_BaseDiv);return}!0!==l.success||null!=l.data&&"Error"==l.data.ExitErrorLevel?
(window.grecaptcha&&window.grecaptcha.reset&&grecaptcha.reset(),"SqlUpdaterDuplicate"==l.errorCode?this.DisplayGlobalError(this.m_FormDefinition.errorMessages.updateDupeKey):"FormValidation"==l.errorCode||"ReCaptChaValidation"==l.errorCode?this.HandleFormValidationErrorsResponse(l):null!=l.data&&null!=l.data.errorMessages&&0<l.data.errorMessages.length?this.HandleFormValidationErrorsResponse(l):this.DisplayGlobalError(this.m_FormDefinition.errorMessages.general+" ("+l.errorCode+")")):null!=this.m_FormDefinition.onSuccess?
!1!==this.m_FormDefinition.onSuccess(l)&&this.ShowSuccessPage():this.ShowSuccessPage()},ShowSuccessPage:function(){var f=p.util.supportsRGBA(),l=p.util.supportsTransform();if(f&&l){var e=this;f=this.m_BaseDiv.getHeight();this.m_BaseDiv.setStyle("height",f+"px");this.m_FormTable.fadeOut(500,"swing",function(){e.m_FormTable.hide();e.m_SuccesDiv.setStyle("opacity","0").show().fadeIn().scaleUp(500,.5,1);var g=e.m_SuccesDiv.getHeight();e.m_BaseDiv.animate({properties:{height:g},durationMilli:500,onStepCallback:function(){e.NotifySizeChange()},
onCompleteCallback:function(){e.m_BaseDiv.setStyle("height","auto");e.NotifySizeChange()}})})}else this.m_FormTable.hide(),this.m_SuccesDiv.show(),this.NotifySizeChange()},HandleFormValidationErrorsResponse:function(f){if(null!=f.data&&null!=f.data.errorMessages&&0<f.data.errorMessages.length){if(null!=this.m_FormDefinition.onError){var l=this.m_FormDefinition.onError(f.data.errorMessages);if(!1===l)return}l=!1;for(var e=0;e<f.data.errorMessages.length;e++){var g=f.data.errorMessages[e];if(null==
g.Field)this.DisplayGlobalError(g.ErrorMessage);else{var k=this.GetFieldDefByName(g.Field);if(null==k)this.DisplayGlobalError("["+g.Field+"] : "+g.ErrorMessage);else if(this.DisplayInlineError(g.ErrorMessage,k),0==l&&null!=k.input)try{k.input.focus(),l=!0}catch(m){console.error(m)}}}}else{if(null!=this.m_FormDefinition.onError&&(l=this.m_FormDefinition.onError(this.m_FormDefinition.errorMessages.general),!1===l))return;this.DisplayGlobalError(this.m_FormDefinition.errorMessages.general)}}}});h.OptinBaseForm=
d})(window.ofsysOptin.clientBaseForm);
